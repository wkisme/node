
from ClusterShell.NodeSet import NodeSet

if __name__ == '__main__':
    nodes = 'cn[65536-65790,65792-65807,65809-65863,65867,65869-65870,65872-65958,65960-66116,66118-66143,66145-66167,66176-66316,66318-66559],' \
            'cn[66560,66562-66567,66569-66595,66598-66609,66611-66637,66639-66647,66649-66660,66662-66670,66672-66677,66680-66681,66683-66686,66688-66692,66694-66722,66724-66732,66734-66749,66751-66757,66760-66763,66765-66785,66787-66796,66798-66804,66806-66835,66837-66905,66907-66943,66945-66959,66961-66962,66965-66982,66984-67018,67020-67032,67034-67040,67042-67048,67050,67052-67058,67060-67067,67069-67070,67072-67089,67091-67093,67095-67126,67128-67141,67143-67177,67179-67196,67198-67205,67207-67219,67221-67247,67249-67300,67302-67308,67310-67322,67324-67328,67330-67340,67343-67379,67381-67401,67403-67407,67409-67417,67419-67426,67428-67433,67435-67457,67459-67478,67481-67523,67525-67527,67529-67566,67568-67569,67571-67579,67582-67583],' \
            'cn[67597,67679-67687,67689,67691,67698,67703-67711,67713,67760,67772,67802-67803,67805,67808,67815,67817-67820,67822,67824,67829,67831-67832,67837,67843,67848,67852,67858,67861,67864-67865,67870,67876,67883,67886,67895,67908-67909,67911,67916,67918,67932],' \
            'cn[68608-68615,68624-68700,68702-68711,68728-68876,68878-68900,68902-68968,68970-69103,69112-69179,69181-69188,69190-69192,69194-69200,69203,69205-69206,69208-69232,69234-69252,69254-69288,69290-69303,69312-69319,69328-69332,69334-69340,69342-69431,69440,69442-69460,69462-69540,69542-69615,69624-69631]'
    a = NodeSet(nodes)
    print(a)

    nodes = 'cn[65536-65807,65809-65863,65867,65869-65870,65872-65957,65960-66061,66064-66116,66118-66143,66145-66167,66175-66316,66318-66559],' \
            'cn[66560,66562-66567,66569-66595,66598-66609,66611-66637,66639-66647,66649-66660,66662-66670,66672-66677,66679-66686,66688-66692,66694-66722,66724-66732,66734-66749,66751-66757,66760-66785,66787-66796,66798-66804,66806-66835,66837-66905,66907-66959,66961-66962,66965-66982,66984-67018,67020-67032,67034-67040,67042-67048,67050,67052-67058,67060-67067,67069-67070,67072-67089,67091-67093,67095-67126,67128-67141,67143-67177,67179-67196,67198-67205,67207-67247,67249-67300,67302-67308,67310-67322,67324-67328,67330-67340,67343-67379,67381-67401,67403-67407,67409-67417,67419-67426,67428-67433,67435-67457,67459-67479,67481-67523,67525-67527,67529-67566,67568-67569,67571-67579,67582-67583],' \
            'cn[67597,67672,67679-67687,67689,67691,67697-67698,67703-67711,67713,67760,67772,67802-67803,67805-67806,67808,67815,67817-67820,67822,67824,67829,67831-67832,67837,67843,67848,67852,67858,67861,67864-67865,67870,67876,67883,67886,67895,67908-67909,67911,67916,67918,67932,67936-67943,67952,67954-67957,67959-67960,67969-67971,67973-67974,67978,67985,67992-67999,68005,68007,68017,68023-68025,68027,68029,68034-68035,68037,68041-68044,68046,68048-68057,68070-68072,68076,68081,68083,68088-68089,68091-68092,68096,68115,68139,68147,68153,68161,68229,68235,68238,68245,68256,68304-68311,68329,68333,68356,68394,68441,68444-68445,68485,68497,68537,68553,68584,68591-68599,68605],' \
            'cn[68608-68712,68714-68799,68804-68806,68808-68893,68895-69135,69137-69154,69156-69631]'
    b = NodeSet(nodes)
    print(b)

    nodes = 'cn[65536-65546,65548-65551,65553-65580,65582-65615,65618-65619,65624,65626-65640,65642-65648,65650-65660,65662-65704,65706-65708,65711-65731,65734,65736-65768,65770-65788,65790,65792-65807,65809-65828,65830-65840,65842-65852,65854-65856,65858-65863,65867,65869-65870,65872-65876,65878-65920,65922-65944,65946-65957,65960,65962-65968,65970-66048,66050-66060,66064-66088,66090-66103,66105,66107,66109-66111,66114,66118-66119,66121,66123-66125,66127,66129-66130,66132,66134,66136-66143,66145-66167,66176-66208,66210-66218,66220-66264,66266-66284,66286-66296,66298-66316,66318-66404,66406-66457,66459-66548,66550-66559],' \
            'cn[66560,66563,66569,66573-66575,66577,66579,66582,66584,66586-66587,66592-66593,66595,66598,66603-66604,66607,66611-66613,66615-66616,66620,66625-66632,66635,66639,66646,66649-66650,66652,66655-66659,66668-66669,66672-66674,66676,66679,66681,66685,66688,66690,66692,66694-66701,66704-66706,66708,66710,66712,66714-66716,66719,66725-66727,66729,66731-66732,66736-66740,66742-66743,66748-66749,66751,66753,66755-66757,66760-66762,66765-66775,66777-66782,66785,66790-66791,66793-66796,66800-66801,66803-66804,66806,66808,66811-66813,66817-66819,66821,66823-66824,66826,66831,66833-66834,66837-66839,66842,66844-66847,66849-66850,66852-66854,66856-66858,66863,66865-66866,66868-66876,66881-66883,66885,66888-66889,66891,66894,66897,66900,66902-66903,66905,66908,66911,66916-66920,66924-66925,66928-66929,66931-66932,66936,66938-66939,66942-66947,66949-66950,66952,66954,66961-66962,66966,66969-66970,66973-66974,66977,66980,66984,66991-66995,66998,67000,67002,67004,67006,67010,67013-67014,67016,67018,67021-67022,67024-67032,67035,67037,67039,67042-67045,67048,67052-67056,67060,67062-67063,67066-67067,67070,67072-67084,67086-67087,67093,67095-67096,67100,67106,67110,67113,67115-67120,67122,67125-67126,67128,67130-67133,67135-67137,67139,67143-67153,67155,67157-67158,67160,67165-67169,67171,67174-67175,67177,67179,67181-67182,67186-67187,67189-67190,67193,67200,67203-67204,67213,67216,67218-67221,67223,67225,67228-67231,67233,67235,67240-67241,67243-67247,67249,67269-67270,67276,67278-67288,67292,67294-67297,67306-67307,67310,67312-67313,67316-67317,67320-67322,67324-67325,67330,67332-67335,67337-67340,67345-67353,67356,67358-67359,67361,67363-67365,67367,67369,67373-67374,67378,67382,67385-67387,67389-67396,67400-67401,67404-67405,67411-67412,67414,67416-67417,67419,67421,67423,67426,67432-67433,67435,67439,67444-67447,67449,67451,67453-67455,67457,67459,67461-67463,67470-67471,67473,67475-67477,67479,67481,67484-67485,67488-67489,67492-67493,67495-67496,67498-67500,67502-67507,67510-67511,67514,67516-67517,67519-67522,67526-67527,67530,67532-67543,67545-67546,67551,67553-67554,67556-67561,67563,67565,67568,67571-67572,67583],' \
            'cn[67672,67679,67681-67687,67689,67703-67704,67706,67710,67713,67805-67806,67808,67817-67818,67824,67831-67832,67837,67848,67852,67858,67870,67876,67883,67908-67909,67911,67916,67918,67936,67938-67943,67952,67954-67955,67957,67959,67969,67971,67973,67992-67993,67997,67999,68017,68027,68035,68037,68041,68043-68044,68046,68048,68050,68057,68070,68072,68083,68088-68089,68091-68092,68115,68147,68238,68305-68306,68308,68311,68329,68445,68485,68553,68592-68597],' \
            'cn[68615-68623,68640,68685,68696-68700,68702-68704,68706-68707,68712,68714-68727,68730-68731,68736,68740-68741,68745,68747,68750-68751,68754-68755,68759-68761,68769-68771,68773-68775,68778,68780,68783,68788,68793,68799,68817,68876-68877,68879,68957,68959,68975,68994,69006,69018,69053,69067,69073,69076,69104-69111,69180-69181,69188-69189,69201-69202,69204,69207,69211-69212,69228-69229,69231,69233,69236-69237,69241,69253,69258,69264,69274,69283-69285,69289,69304-69309,69320-69327,69330,69333,69340-69343,69352,69361-69362,69365,69371-69375,69432-69442,69444-69447,69450-69455,69459-69460,69462-69464,69475,69479,69486,69495,69505,69519,69521,69533,69541,69559,69561,69569,69572,69589,69616-69623]'
    c = NodeSet(nodes)
    print(c)

    d = a.intersection(b).intersection(c)
    print(d)
    print(len(d))
